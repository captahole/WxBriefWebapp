<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wx Brief</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7913379801369919"
        crossorigin="anonymous"></script>
</head>

<body>
    <div class="container">
        <header>
            <h1>Wx Brief</h1>
            <div class="utc-time">
                <span>Current UTC:</span>
                <span id="utc-time-display" class="utc-time-value">Loading...</span>
            </div>
        </header>

        <div class="input-section">
            <div class="airport-inputs">
                <div class="input-group">
                    <label for="departure">Departure</label>
                    <input type="text" id="departure" placeholder="JFK" class="airport-input">
                </div>
                <div class="input-group">
                    <label for="arrival">Arrival</label>
                    <input type="text" id="arrival" placeholder="LAX" class="airport-input">
                </div>
                <div class="input-group">
                    <label for="alternate">Alternate (Optional)</label>
                    <input type="text" id="alternate" placeholder="SFO" class="airport-input">
                </div>
            </div>
            <button id="fetch-button" class="primary-button">
                <i class="fas fa-cloud-sun"></i> Get Weather Briefing
            </button>
        </div>

        <div class="auto-refresh-section">
            <label for="refresh-interval">Auto-refresh (sec):</label>
            <input type="number" id="refresh-interval" placeholder="60" min="10">
            <button id="auto-refresh-button" class="secondary-button">
                <i class="fas fa-sync-alt"></i> Start Auto-Refresh
            </button>
        </div>

        <div class="loading-indicator" id="loading-indicator">
            <div class="spinner"></div>
            <p>Fetching weather data...</p>
        </div>

        <!-- Google AdSense Display Ad -->
        <div class="ads-section" style="margin: 20px 0; text-align: center;">
            <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-7913379801369919"
                data-ad-slot="ca-pub-7913379801369919" <!-- Replace with your actual Ad Slot ID -->
                data-ad-format="auto"
                data-full-width-responsive="true"></ins>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>

        <div class="data-section">
            <div class="data-card">
                <h2><i class="fas fa-cloud"></i> METAR / TAF</h2>
                <div id="weather-output" class="data-content"></div>
            </div>

            <div class="data-card">
                <h2><i class="fas fa-broadcast-tower"></i> DATIS</h2>
                <div id="datis-output" class="data-content"></div>
            </div>

            <div class="data-card">
                <h2><i class="fas fa-plane-departure"></i> Airport Status</h2>
                <div id="status-output" class="data-content"></div>
            </div>
        </div>

        <footer>
            <p>Data retrieved at <span id="data-timestamp">-</span></p>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>

</html>